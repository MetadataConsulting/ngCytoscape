!function(){"use strict";function e(e,t,n,o,a,i,r){function s(t){this._cytoGraph=e.defer(),this._getCytoscapeGraph=function(){return this._cytoGraph.promise},this._getCytoscapeScope=function(){return t}}function u(e,s,u,d){var c=t.isDefined,l=t.isEmpty;o.setDefaults(e.graphOptions,e.graphLayout,u.id,e.graphStyle),e.graphId=u.id;var p=new a(s[0],o.getGraphCreationDefaults(u.id));i.setEvents(p),d._cytoGraph.resolve(p),c(e.graphElements&&!l(e.graphElements))&&(r.addElements(e.graphElements,p,e),c(e.graphLayout)&&!l(e.graphLayout)&&p.layout(e.graphLayout)),e.$watch(function(){return s[0].offsetHeight},function(e,t){e!==t&&p.resize()}),e.$watch(function(){return s[0].offsetWidth},function(e,t){e!==t&&p.resize()}),p.ready(function(){n.setGraph(p,u.id)})}s.$inject=["$scope"];var d={restrict:"EA",replace:!0,scope:{graphElements:"=",graphLayout:"=",graphOptions:"=",graphStyle:"="},template:'<div class="ngCytoscape"></div>',controller:s,link:u};return d}angular.module("ngCytoscape",[]).directive("cytoscape",e),e.$inject=["$q","cytoHelpers","cytoData","cytoGraphDefaults","CytoscapeGraph","cytoEvents","cytoElementsHelpers"]}(),function(){"use strict";function e(e,t){function n(n,o,a,i){function r(){return n.elements.map(s)}function s(e){return e.data}var u,d=i._getCytoscapeScope(),c=e.isDefined;i._getCytoscapeGraph().then(function(e){u=e}),n.$watchCollection(function(){return d.graphElements},function(e,n){c(e)&&e!==n&&t.processChange(e,u,d)}),n.$watch(r,function(){u.style().update()},!0)}var o={restric:"A",require:"^cytoscape",link:n};return o}angular.module("ngCytoscape").directive("graphElements",e),e.$inject=["cytoHelpers","cytoElementsHelpers"]}(),function(){"use strict";function e(e,t){function n(n,o,a,i){var r,s,u=(e.isDefined,t.getDefaultLayouts()),d=u.grid;s=i._getCytoscapeScope(),i._getCytoscapeGraph().then(function(e){r=e}),n.$watch(function(){return s.graphLayout},function(e,t){e!=t&&r.elements().length>0&&r.elements(":visible").layout(s.graphLayout||d)},!0)}var o={restrict:"A",require:"^cytoscape",link:n};return o}angular.module("ngCytoscape").directive("graphLayout",e),e.$inject=["cytoHelpers","cytoLayoutDefaults"]}(),function(){"use strict";function e(){var e={restrict:"A",require:"^cytoscape",link:function(e,t,n,o){var a={};o._getCytoscapeGraph().then(function(e){a=e});var i=o._getCytoscapeScope();i.$watch(function(){return i.graphStyle},function(e,t){e!==t&&a.style(e)},!0)}};return e}angular.module("ngCytoscape").directive("graphStyle",e)}(),function(){"use strict";function e(){var e=function(e,t,n){var o={container:e};return angular.isDefined(t)&&null!==t&&angular.extend(o,t),cytoscape(o)};return e}angular.module("ngCytoscape").factory("CytoscapeGraph",e)}(),function(){"use strict";function e(e){var t=e.getDefer,n=e.getUnresolvedDefer,o=e.setResolvedDefer,a={};a.Graph={};var i=this;i.setGraph=function(e,t){var i=n(a.Graph,t);i.resolve(e),o(a.Graph,t)},i.getGraph=function(e){var n=t(a.Graph,e);return n.promise}}angular.module("ngCytoscape").service("cytoData",e),e.$inject=["cytoHelpers"]}(),function(){"use strict";function e(e,t){function n(e,t,n){for(var o in e){var a=e[o];("nodes"===a.group||"edges"===a.group)&&_addElement(a,t,n)}}function o(t,n,o){if(0===t.length&&n.nodes().forEach(function(e){n.remove(e)}),0===n.elements().length)a(t,n,o);else{var i={},r={};n.elements().each(function(e,t){i[t.id()]=1});var s=[];e.asyncEach(t,function(e,t){if(r[e.data.id]=e.data.id,e.data&&e.data.id)if(i[e.data.id]){var o=n.nodes("#"+e.data.id);o.data()!==e.data&&o.data(e.data)}else s.push(e);else s.push(e)}).then(function(){0===s.length?n.elements().each(function(e,o){if(!r[o.id()]){var a=o.neighborhood("edge").jsons(),i={};angular.forEach(a,function(e,t){i[e.data.id]=e.data.id});for(var s=t.length;s--;)i[t[s].data.id]&&t.splice(s,1);n.remove("#"+o.id())}}):n.add(s),n.style().update(),n.elements(":visible").layout(o.graphLayout||{name:"grid"}),n.resize()})}}function a(e,t,n){i(e)&&(t.add(e),t.elements(":visible").layout(n.graphLayout||{name:"grid"}))}function i(e){var n={},o=[],a=0;return angular.forEach(e,function(e,i){e.hasOwnProperty("data")?e.data.hasOwnProperty("id")?(o.push(e),"nodes"===e.group&&(n[e.data.id]=e.data.id)):(a++,t.error("Elements require an id property")):(a++,t.error("Elements require a data property"))}),angular.forEach(o,function(e){"nodes"!==e.group&&(e.data.hasOwnProperty("target")||(a++,t.error("Edges require a target",e.data)),e.data.hasOwnProperty("target")||(a++,t.error("Edges require a target",e.data)),n[e.data.target]||(a++,t.error("Edges require a target node.",e.data)),n[e.data.source]||(a++,t.error("Edges require a source node.",e.data)))}),a>0?!1:!0}var r={initElements:n,addElements:a,processChange:o};return r}angular.module("ngCytoscape").factory("cytoElementsHelpers",e),e.$inject=["cytoHelpers","$log"]}(),function(){"use strict";function e(){return["mousedown","mouseup","click","mouseover","mouseout","mousemove","touchstart","touchmove","touchend","add","remove","select","unselect","lock","unlock","grab","drag","free","position","data","scratch","style","layoutstart","layoutready","layoutstop","load","ready","initrender","done","pan","zoom","tapstart","tapdrag","tapdragover","tapdragout","tapend","tap","taphold","cxttapstart","cxttapend","cxttap","cxtdrag","cxtdragover","cxtdragout"]}function t(t){function n(n){for(var o=e(),a=0;a<o.length;a++)n.on(o[a],function(e){if(e.cyTarget===n){var o=e.cyTarget;t.$broadcast("cytoEvent:graph:"+e.type,o,e)}else t.$broadcast("cytoEvent:core:"+e.type,e)}),n.on(o[a],"node",function(e){var n=e.cyTarget;t.$broadcast("cytoEvent:node:"+e.type,n,e)}),n.on(o[a],"edge",function(e){var n=e.cyTarget;t.$broadcast("cytoEvent:edge:"+e.type,n,e)})}var o={setEvents:n};return o}angular.module("ngCytoscape").factory("cytoEvents",t),t.$inject=["$rootScope","$timeout"]}(),function(){"use strict";function e(){return{zoom:1,pan:{x:0,y:0},minZoom:1e-50,maxZoom:1e50,zoomingEnabled:!0,userZoomingEnabled:!0,panningEnabled:!0,userPanningEnabled:!0,boxSelectionEnabled:!1,selectionType:"single",touchTapThreshold:8,desktopTapThreshold:4,autolock:!1,autoungrabify:!1,autounselectify:!1,headless:!1,styleEnabled:!0,hideEdgesOnViewport:!1,hideLabelsOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.2,wheelSensitivity:1,pixelRatio:1}}function t(t){function n(e){var t=r(s,e);return s[t]}function o(e){var t=r(s,e),n=s[t],o={zoom:n.zoom,pan:n.pan,minZoom:n.minZoom,maxZoom:n.maxZoom,zoomingEnabled:n.zoomingEnabled,userZoomingEnabled:n.userZoomingEnabled,panningEnabled:n.panningEnabled,userPanningEnabled:n.userPanningEnabled,boxSelectionEnabled:n.boxSelectionEnabled,selectionType:n.selectionType,touchTapThreshold:n.touchTapThreshold,desktopTapThreshold:n.desktopTapThreshold,autolock:n.autolock,autoungrabify:n.autoungrabify,autounselectify:n.autounselectify,layout:n.layout,style:n.style,headless:n.headless,styleEnabled:n.styleEnabled,hideEdgesOnViewport:n.hideEdgesOnViewport,hideLabelsOnViewport:n.hideLabelsOnViewport,textureOnViewport:n.textureOnViewport,motionBlur:n.motionBlur,motionBlurOpacity:n.motionBlurOpacity,wheelSensitivity:n.wheelSensitivity,pixelRatio:n.pixelRatio};return o}function a(t,n,o,a){var u=e();i(t)&&(u.zoom=i(t.zoom)?t.zoom:u.zoom,u.scrollWheelZoom=i(t.scrollWheelZoom)?t.scrollWheelZoom:u.doubleClickZoom,u.minZoom=i(t.minZoom)?t.minZoom:u.minZoom,u.maxZoom=i(t.maxZoom)?t.maxZoom:u.maxZoom,u.zoomingEnabled=i(t.zoomingEnabled)?t.zoomingEnabled:u.zoomingEnabled,u.panningEnabled=i(t.panningEnabled)?t.panningEnabled:u.panningEnabled,u.userPanningEnabled=i(t.userPanningEnabled)?t.userPanningEnabled:u.userPanningEnabled,u.boxSelectionEnabled=i(t.boxSelectionEnabled)?t.boxSelectionEnabled:u.boxSelectionEnabled,u.selectionType=i(t.selectionType)?t.selectionType:u.selectionType,u.touchTapThreshold=i(t.touchTapThreshold)?t.touchTapThreshold:u.touchTapThreshold,u.desktopTapThreshold=i(t.desktopTapThreshold)?t.desktopTapThreshold:u.desktopTapThreshold,u.autolock=i(t.autolock)?t.autolock:u.autolock,u.autoungrabify=i(t.autoungrabify)?t.autoungrabify:u.autoungrabify,u.headless=i(t.headless)?t.headless:u.headless,u.styleEnabled=i(t.styleEnabled)?t.styleEnabled:u.styleEnabled,u.hideEdgesOnViewport=i(t.hideEdgesOnViewport)?t.hideEdgesOnViewport:u.hideEdgesOnViewport,u.hideLabelsOnViewport=i(t.hideLabelsOnViewport)?t.hideLabelsOnViewport:u.hideLabelsOnViewport,u.textureOnViewport=i(t.textureOnViewport)?t.textureOnViewport:u.textureOnViewport,u.motionBlur=i(t.motionBlur)?t.motionBlur:u.motionBlur,u.motionBlurOpacity=i(t.motionBlurOpacity)?t.motionBlurOpacity:u.motionBlurOpacity,u.wheelSensitivity=i(t.wheelSensitivity)?t.wheelSensitivity:u.wheelSensitivity,u.pixelRatio=i(t.pixelRatio)?t.pixelRatio:u.pixelRatio,i(t.pan)&&angular.extend(u.pan,t.pan)),i(a)&&(u.style=i(a)?a:[]),i(n)&&(u.layout=i(n)?n:{name:"grid"});var d=r(s,o);return s[d]=u,u}var i=t.isDefined,r=(t.isObject,t.obtainEffectiveGraphId),s={},u={getDefaults:n,getGraphCreationDefaults:o,setDefaults:a,reset:function(){s={}}};return u}angular.module("ngCytoscape").factory("cytoGraphDefaults",t),t.$inject=["cytoHelpers"]}(),function(){"use strict";function e(e){function t(e,t){var n,a;if(angular.isDefined(t))n=t;else if(0===Object.keys(e).length)n="cytoscape-main";else if(Object.keys(e).length>=1)for(a in e)e.hasOwnProperty(a)&&(n=a);else $log.error(o+"- You have more than 1 graph on the DOM, you must provide the graph ID to the cytoData.geGraph call");return n}function n(n,o){var a,i=t(n,o);return angular.isDefined(n[i])&&n[i].resolvedDefer!==!0?a=n[i].defer:(a=e.defer(),n[i]={defer:a,resolvedDefer:!1}),a}var o="[AngularJS - Cytoscape] ",a=angular.copy,i=a,r=function(e){return angular.isDefined(e)&&null!==e},s=function(e){return!r(e)};return{copy:a,clone:i,defaultTo:function(e,t){return r(e)?e:t},isTruthy:function(e){return"true"===e||e===!0},isEmpty:function(e){return 0===Object.keys(e).length},isUndefinedOrEmpty:function(e){return angular.isUndefined(e)||null===e||0===Object.keys(e).length},isDefined:r,isUndefined:s,isNumber:angular.isNumber,isString:angular.isString,isArray:angular.isArray,isObject:angular.isObject,isFunction:angular.isFunction,equals:angular.equals,safeApply:function(e,t){var n=e.$root.$$phase;"$apply"==n||"$digest"==n?e.$eval(t):e.$apply(t)},asyncEach:function(t,n,o,a){function i(){return(new Date).getTime()}function r(){for(var e=i();u>d&&i()-e<=o;)n.call(a,t[d],d,t),++d;u>d?setTimeout(r,1):d===u&&s.resolve()}var s=e.defer(),u=t.length;a=a||window,o=o||200;var d=0;return r(),s.promise},obtainEffectiveGraphId:t,getDefer:function(e,o){var a,i=t(e,o);return a=angular.isDefined(e[i])&&e[i].resolvedDefer!==!1?e[i].defer:n(e,o)},getUnresolvedDefer:n,setResolvedDefer:function(e,n){var o=t(e,n);e[o].resolvedDefer=!0}}}angular.module("ngCytoscape").service("cytoHelpers",e),e.$inject=["$q"]}(),function(){"use strict";function e(){return{random:{name:"random",fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0},preset:{name:"preset",positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0},grid:{name:"grid",fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0},circle:{name:"circle",fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0},concentric:{name:"concentric",fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,height:void 0,width:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0},breadthfirst:{name:"breadthfirst",fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,ready:void 0,stop:void 0},cose:{name:"cose",ready:function(){},stop:function(){},animate:!1,animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,componentSpacing:100,nodeRepulsion:function(e){return 4e5},nodeOverlap:10,idealEdgeLength:function(e){return 10},edgeElasticity:function(e){return 100},nestingFactor:5,gravity:80,numIter:1e3,initialTemp:200,coolingFactor:.95,minTemp:1,useMultitasking:!0}}}function t(){function t(){return e()}var n={getDefaultLayouts:t};return n}angular.module("ngCytoscape").factory("cytoLayoutDefaults",t)}();